## 与链（节点）交互
节点（Provider）通过 RPC 服务，让外部与链交互
接口规范：
https://ethereum.github.io/execution-apis/
https://ethereum.org/zh/developers/docs/apis/json-rpc/
```
// 获取账号eth余额
curl -X POST --data '{"jsonrpc":"2.0","method":"eth_getBalance","params":["0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266", "latest"],"id":1}' http://127.0.0.1:8545

```

```
//调用合约（读）
curl -X POST --data ‘{"jsonrpc":"2.0","method":"eth_call","params":[{ … }],”id”:1}’

```

```
//调用合约（写）
curl -X POST --data '{"jsonrpc":"2.0","method":"eth_sendRawTransaction","params":[{…}],"id":1}'
```


有一系列与区块链进行交互的库（RPC 接口封装），简化开发过程
• cast 很多命令也是（RPC 接口封装）
• 常用的库：viem.js / ethers.js / Web3J / Web3Py / go-ethereum / alloy-rs


## 使用 Viem
• Viem.sh 逐步取掉 ethers.js 和 web3.js ，高性能、模块化、轻量级、更出⾊的开发⼈员体验
• 安装（node.js v16 以上）：
```
pnpm install viem / npm install viem
```

client 是交互载体， 使用所需的链传输协议创建 client 读取链上数据使用 publicClient

```
import { createPublicClient, http } from 'viem'
import { mainnet } from 'viem/chains'
const client = createPublicClient({
    chain: mainnet,
    transport: http(),
})
const blockNumber = await client.getBlockNumber()
```







