# 安装合约开发环境
### 前提：安装 Git Bash（如果还没装）
1. 去官网 https://git-scm.com/downloads 下载 Windows 版 Git（最新版）。
2. 安装时保持默认选项（会自动装 Git Bash）。
3. 安装完后，在桌面或文件夹右键 → “Git Bash Here” 就能打开终端（黑底界面，像 Linux 终端）。

### 用 Git Bash 安装 Foundry 步骤（5-10 分钟）
1. **打开 Git Bash**：
   - 开始菜单搜 “Git Bash” 或任意文件夹右键 “Git Bash Here”。

2. **安装 Foundryup**（下载并运行安装脚本）：
   在 Git Bash 里运行：
   ```
   curl -L https://foundry.paradigm.xyz | bash
   ```
   - 这会下载脚本并执行，安装到 ~/.foundry 目录。
   - 过程中可能问你确认，按 Enter 或 y 继续。

3. **加载 PATH（让 foundryup 命令可用）**：
   脚本运行完后，通常会提示你运行下面命令（或自动加到 .bash_profile）：
   ```
   source ~/.bashrc
   ```
   - 如果没提示，也手动跑一次。
   - 或者关闭 Git Bash 再重新打开（最保险）。

4. **运行 foundryup 安装工具链**：
   ```
   foundryup
   ```
   - 这会下载最新稳定版（forge、cast、anvil、chisel）的预编译二进制文件。
   - 过程几分钟（下载 + 验证完整性，用 GitHub attestations）。
   - 想装 nightly（最新但可能有 bug）：`foundryup --install nightly`

5. **验证安装**：
   在同一个 Git Bash 里运行：
   ```
   forge --version
   cast --version
   anvil --version
   chisel --version
   ```
   - 看到类似 `forge 0.2.x` 或更高版本就成功！

### 常见问题 & 修复
- **命令 not found**（foundryup 或 forge 找不到）：
  - 跑 `source ~/.bashrc` 或 `source ~/.bash_profile`。
  - 或重启 Git Bash。
  - 检查 PATH：跑 `echo $PATH`，看有没有 ~/.foundry/bin。
- **curl 命令不存在**：极少见，Git Bash 自带 curl。如果没有，重新装 Git。
- **网络问题**：香港 IP 正常，用 VPN 试试如果卡住。
- **更新 Foundry**：以后随时跑 `foundryup` 就能升级到最新。
- **卸载**：删 `C:\Users\你的用户名\.foundry` 文件夹（在文件资源管理器里），然后从 .bashrc 删相关行。

### 下一步（实战你的项目）
- 创建测试项目：
  ```
  mkdir my-foundry-project
  cd my-foundry-project
  forge init
  forge build
  forge test
  ```
- 用 VS Code：装 “Solidity” 扩展 + “Rust Analyzer”（可选），在项目文件夹右键 “Git Bash Here” 开发。
- 你的 ERC20/NFT 等项目直接用 `forge init` 初始化，然后写 Solidity 在 src/ 下，测试在 test/ 下。速度超快！

Git Bash 方式比从源构建（cargo install）简单多了，不用装 Rust + Visual Studio C++（除非你想自己编译）。  
装完跑 `forge --version` 告诉我输出，我们继续写你的第一个 Foundry 项目（比如 ERC20）。别纠结，行动起来，年底远程工作稳拿！@baiyiblockchain 冲！



